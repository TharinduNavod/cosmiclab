<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Black Holes | CosmicLab - Advanced Physics Laboratory</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Space+Grotesk:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        :root {
            --bg-primary: #0A0E27;
            --bg-secondary: #151933;
            --accent-blue: #3B82F6;
            --accent-purple: #8B5CF6;
            --accent-orange: #F59E0B;
            --accent-cyan: #06B6D4;
            --accent-red: #EF4444;
            --text-primary: #F8FAFC;
            --text-secondary: #94A3B8;
            --border: rgba(148, 163, 184, 0.1);
        }

        body {
            font-family: 'Inter', sans-serif;
            background: var(--bg-primary);
            color: var(--text-primary);
            overflow-x: hidden;
            line-height: 1.6;
        }

        .stars-bg { position: fixed; width: 100%; height: 100%; top: 0; left: 0; z-index: 0; }
        .star { position: absolute; width: 2px; height: 2px; background: white; border-radius: 50%; animation: twinkle 3s infinite; }
        @keyframes twinkle { 0%, 100% { opacity: 0.3; } 50% { opacity: 1; } }

        nav {
            position: fixed; top: 0; width: 100%; padding: 1.5rem 5%;
            display: flex; justify-content: space-between; align-items: center;
            background: rgba(10, 14, 39, 0.8); backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--border); z-index: 1000; transition: all 0.3s;
        }

        .logo {
            font-family: 'Space Grotesk', sans-serif; font-size: 1.5rem; font-weight: 700;
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            display: flex; align-items: center; gap: 0.5rem; text-decoration: none;
        }

        .nav-links { display: flex; gap: 2.5rem; list-style: none; }
        .nav-links a { color: var(--text-secondary); text-decoration: none; font-weight: 500; font-size: 0.95rem; transition: color 0.3s; }
        .nav-links a:hover { color: var(--text-primary); }

        header {
            min-height: 70vh; display: flex; flex-direction: column;
            justify-content: center; align-items: center; text-align: center;
            padding: 10rem 5% 4rem; position: relative; z-index: 1;
        }

        h1 {
            font-family: 'Space Grotesk', sans-serif; font-size: clamp(3rem, 8vw, 5rem);
            font-weight: 800; line-height: 1.1; margin-bottom: 1.5rem;
            background: linear-gradient(135deg, var(--text-primary), var(--accent-purple));
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
        }

        .subtitle { font-size: 1.2rem; color: var(--accent-blue); letter-spacing: 3px; text-transform: uppercase; margin-bottom: 1rem; font-weight: 600; }
        .intro { max-width: 800px; margin: 0 auto 2rem; font-size: 1.15rem; color: var(--text-secondary); line-height: 1.8; }
        .container { max-width: 1400px; margin: 0 auto; padding: 4rem 5%; position: relative; z-index: 1; }
        .section-title { font-family: 'Space Grotesk', sans-serif; font-size: 2.5rem; margin-bottom: 3rem; font-weight: 700; }
        .gradient-text { background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }

        /* Lab Styles */
        .lab-container {
            background: rgba(21, 25, 51, 0.6); backdrop-filter: blur(20px);
            border: 1px solid var(--border); border-radius: 24px; padding: 3rem; margin-bottom: 6rem;
        }

        .lab-tabs { display: flex; gap: 1rem; margin-bottom: 2rem; flex-wrap: wrap; }
        .lab-tab {
            padding: 1rem 2rem; background: rgba(59, 130, 246, 0.1);
            border: 1px solid rgba(59, 130, 246, 0.3); border-radius: 12px;
            color: var(--text-secondary); cursor: pointer; transition: all 0.3s;
            font-weight: 600; font-size: 0.95rem;
        }
        .lab-tab:hover { background: rgba(59, 130, 246, 0.2); color: var(--text-primary); }
        .lab-tab.active {
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
            color: white; border-color: transparent; box-shadow: 0 4px 15px rgba(59, 130, 246, 0.4);
        }

        .lab-content { display: none; }
        .lab-content.active { display: block; animation: fadeIn 0.5s; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .sim-header { margin-bottom: 2rem; padding-bottom: 1.5rem; border-bottom: 1px solid var(--border); }
        .sim-header h3 { font-family: 'Space Grotesk', sans-serif; font-size: 1.8rem; margin-bottom: 0.75rem; color: var(--accent-blue); }
        .sim-header p { color: var(--text-secondary); line-height: 1.7; }

        .sim-screen {
            background: #000; height: 500px; border-radius: 16px;
            position: relative; overflow: hidden; margin-bottom: 2rem; border: 1px solid var(--border);
        }

        .sim-overlay {
            position: absolute; top: 15px; left: 15px;
            background: rgba(10, 14, 39, 0.9); backdrop-filter: blur(10px);
            padding: 1rem; border-radius: 12px; border: 1px solid rgba(59, 130, 246, 0.3); z-index: 10;
        }

        .overlay-item { display: flex; align-items: center; gap: 0.75rem; margin-bottom: 0.5rem; font-size: 0.9rem; }
        .overlay-item:last-child { margin-bottom: 0; }
        .overlay-label { color: var(--text-secondary); }
        .overlay-value { color: var(--accent-cyan); font-weight: 600; font-family: 'Space Grotesk', sans-serif; }

        .sim-controls {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem; padding: 2rem; background: rgba(10, 14, 39, 0.6); border-radius: 16px; margin-bottom: 2rem;
        }

        .control-group { display: flex; flex-direction: column; }
        .control-group label {
            display: flex; justify-content: space-between; align-items: center;
            color: var(--text-primary); font-weight: 600; margin-bottom: 0.75rem; font-size: 0.95rem;
        }
        .control-value { color: var(--accent-orange); font-family: 'Space Grotesk', sans-serif; }

        input[type=range] {
            width: 100%; height: 8px; background: rgba(59, 130, 246, 0.2);
            border-radius: 5px; outline: none; -webkit-appearance: none;
        }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none; width: 20px; height: 20px; border-radius: 50%;
            background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
            cursor: pointer; box-shadow: 0 2px 10px rgba(59, 130, 246, 0.5);
        }

        .sim-actions { display: flex; gap: 1rem; flex-wrap: wrap; margin-top: 1rem; }
        .sim-btn {
            padding: 0.875rem 1.75rem; background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
            border: none; border-radius: 12px; color: white; font-weight: 600;
            cursor: pointer; transition: all 0.3s; font-size: 0.95rem;
            display: flex; align-items: center; gap: 0.5rem;
        }
        .sim-btn:hover { transform: translateY(-2px); box-shadow: 0 6px 20px rgba(59, 130, 246, 0.5); }
        .sim-btn.secondary {
            background: rgba(59, 130, 246, 0.1); border: 2px solid rgba(59, 130, 246, 0.3); color: var(--accent-blue);
        }

        .metrics-grid {
            display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 1.5rem; margin-top: 2rem;
        }
        .metric-card {
            background: rgba(59, 130, 246, 0.1); border: 1px solid rgba(59, 130, 246, 0.3);
            padding: 1.5rem; border-radius: 12px; text-align: center;
        }
        .metric-label {
            color: var(--text-secondary); font-size: 0.85rem; margin-bottom: 0.5rem;
            text-transform: uppercase; letter-spacing: 0.5px;
        }
        .metric-value {
            font-size: 1.75rem; color: var(--accent-cyan);
            font-family: 'Space Grotesk', sans-serif; font-weight: 700;
        }

        footer {
            background: rgba(21, 25, 51, 0.8); padding: 3rem 5%;
            border-top: 1px solid var(--border); text-align: center;
            color: var(--text-secondary); position: relative; z-index: 1;
        }

        .hamburger { display: none; flex-direction: column; gap: 4px; cursor: pointer; }
        .hamburger span { width: 25px; height: 3px; background: var(--text-primary); border-radius: 2px; transition: all 0.3s; }

        @media (max-width: 768px) {
            .nav-links {
                position: fixed; top: 80px; left: -100%; width: 100%; height: calc(100vh - 80px);
                background: rgba(10, 14, 39, 0.98); backdrop-filter: blur(20px);
                flex-direction: column; justify-content: center; align-items: center; transition: left 0.3s;
            }
            .nav-links.active { left: 0; }
            .hamburger { display: flex; }
            .lab-container { padding: 2rem; }
            .sim-controls { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="stars-bg" id="stars"></div>

    <nav id="navbar">
        <a href="index.html" class="logo"><i class="fas fa-atom"></i> CosmicLab</a>
        <ul class="nav-links" id="navLinks">
            <li><a href="index.html">Home</a></li>
            <li><a href="#simulation">Lab</a></li>
        </ul>
        <div class="hamburger" id="hamburger"><span></span><span></span><span></span></div>
    </nav>

    <header>
        <div class="subtitle">Exploring the Abyss</div>
        <h1>BLACK HOLES</h1>
        <p class="intro">Regions of spacetime where gravity is so intense that nothing can escape.</p>
    </header>

    <div class="container">
        <section id="simulation">
            <h2 class="section-title">Advanced Physics <span class="gradient-text">Laboratory</span></h2>
            
            <div class="lab-container">
                <div class="lab-tabs">
                    <div class="lab-tab active" data-tab="schwarzschild"><i class="fas fa-circle"></i> Schwarzschild Radius</div>
                    <div class="lab-tab" data-tab="orbits"><i class="fas fa-satellite"></i> Orbital Mechanics</div>
                    <div class="lab-tab" data-tab="tidal"><i class="fas fa-arrows-alt-v"></i> Tidal Forces</div>
                    <div class="lab-tab" data-tab="photon"><i class="fas fa-lightbulb"></i> Light Bending</div>
                </div>

                <!-- Tab 1: Schwarzschild -->
                <div class="lab-content active" id="schwarzschild">
                    <div class="sim-header">
                        <h3>Schwarzschild Radius Calculator</h3>
                        <p>Calculate the event horizon for different masses.</p>
                    </div>
                    <div class="sim-screen"><canvas id="canvas1"></canvas>
                        <div class="sim-overlay">
                            <div class="overlay-item"><span class="overlay-label">Radius:</span><span class="overlay-value" id="radius1">59 km</span></div>
                            <div class="overlay-item"><span class="overlay-label">Density:</span><span class="overlay-value" id="density1">1.8×10¹⁶ kg/m³</span></div>
                        </div>
                    </div>
                    <div class="sim-controls">
                        <div class="control-group">
                            <label>Black Hole Mass <span class="control-value" id="mass1">10 M☉</span></label>
                            <input type="range" id="massSlider1" min="1" max="100" value="10">
                        </div>
                    </div>
                    <div class="metrics-grid">
                        <div class="metric-card"><div class="metric-label">Event Horizon</div><div class="metric-value" id="metric1">59 km</div></div>
                        <div class="metric-card"><div class="metric-label">Escape Velocity</div><div class="metric-value">c</div></div>
                    </div>
                </div>

                <!-- Tab 2: Orbits -->
                <div class="lab-content" id="orbits">
                    <div class="sim-header">
                        <h3>Orbital Mechanics Simulator</h3>
                        <p>Watch particles orbit and fall into the black hole.</p>
                    </div>
                    <div class="sim-screen"><canvas id="canvas2"></canvas></div>
                    <div class="sim-controls">
                        <div class="control-group">
                            <label>Orbital Radius <span class="control-value" id="orbit-radius">200 km</span></label>
                            <input type="range" id="orbitSlider" min="50" max="500" value="200">
                        </div>
                        <div class="control-group">
                            <label>Particle Count <span class="control-value" id="particle-count">20</span></label>
                            <input type="range" id="particleSlider" min="5" max="50" value="20">
                        </div>
                    </div>
                    <div class="sim-actions">
                        <button class="sim-btn" onclick="startOrbit()"><i class="fas fa-play"></i> Start Simulation</button>
                        <button class="sim-btn secondary" onclick="resetOrbit()"><i class="fas fa-redo"></i> Reset</button>
                    </div>
                </div>

                <!-- Tab 3: Tidal Forces -->
                <div class="lab-content" id="tidal">
                    <div class="sim-header">
                        <h3>Tidal Forces & Spaghettification</h3>
                        <p>See how objects stretch as they approach the event horizon.</p>
                    </div>
                    <div class="sim-screen"><canvas id="canvas3"></canvas></div>
                    <div class="sim-controls">
                        <div class="control-group">
                            <label>Distance <span class="control-value" id="distance-val">100 km</span></label>
                            <input type="range" id="distanceSlider" min="30" max="300" value="100">
                        </div>
                    </div>
                    <div class="metrics-grid">
                        <div class="metric-card"><div class="metric-label">Tidal Force</div><div class="metric-value" id="tidal-force">High</div></div>
                        <div class="metric-card"><div class="metric-label">Stretch Factor</div><div class="metric-value" id="stretch">2.5x</div></div>
                    </div>
                </div>

                <!-- Tab 4: Photon Sphere -->
                <div class="lab-content" id="photon">
                    <div class="sim-header">
                        <h3>Gravitational Lensing & Light Bending</h3>
                        <p>Watch light rays bend around the black hole.</p>
                    </div>
                    <div class="sim-screen"><canvas id="canvas4"></canvas></div>
                    <div class="sim-controls">
                        <div class="control-group">
                            <label>Impact Parameter <span class="control-value" id="impact-val">150 km</span></label>
                            <input type="range" id="impactSlider" min="50" max="300" value="150">
                        </div>
                    </div>
                    <div class="sim-actions">
                        <button class="sim-btn" onclick="shootPhoton()"><i class="fas fa-bolt"></i> Fire Photon</button>
                        <button class="sim-btn secondary" onclick="clearPhotons()"><i class="fas fa-trash"></i> Clear</button>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <footer><p>© 2025 CosmicLab - Advanced Physics Education</p></footer>

    <script>
        // Generate stars
        const starsContainer = document.getElementById('stars');
        for (let i = 0; i < 200; i++) {
            const star = document.createElement('div');
            star.className = 'star';
            star.style.left = Math.random() * 100 + '%';
            star.style.top = Math.random() * 100 + '%';
            star.style.animationDelay = Math.random() * 3 + 's';
            starsContainer.appendChild(star);
        }

        // Navigation
        const hamburger = document.getElementById('hamburger');
        const navLinks = document.getElementById('navLinks');
        hamburger.addEventListener('click', () => navLinks.classList.toggle('active'));

        // Tab switching
        document.querySelectorAll('.lab-tab').forEach(tab => {
            tab.addEventListener('click', function() {
                document.querySelectorAll('.lab-tab').forEach(t => t.classList.remove('active'));
                document.querySelectorAll('.lab-content').forEach(c => c.classList.remove('active'));
                this.classList.add('active');
                document.getElementById(this.dataset.tab).classList.add('active');
                initCurrentTab(this.dataset.tab);
            });
        });

        // Canvas setup
        const canvas1 = document.getElementById('canvas1');
        const ctx1 = canvas1.getContext('2d');
        const canvas2 = document.getElementById('canvas2');
        const ctx2 = canvas2.getContext('2d');
        const canvas3 = document.getElementById('canvas3');
        const ctx3 = canvas3.getContext('2d');
        const canvas4 = document.getElementById('canvas4');
        const ctx4 = canvas4.getContext('2d');

        function resizeCanvas(canvas) {
            canvas.width = canvas.parentElement.offsetWidth;
            canvas.height = 500;
        }
        [canvas1, canvas2, canvas3, canvas4].forEach(resizeCanvas);

        // Tab 1: Schwarzschild
        const massSlider1 = document.getElementById('massSlider1');
        function updateSchwarzsChild() {
            const mass = massSlider1.value;
            document.getElementById('mass1').textContent = mass + ' M☉';
            const radius = (2.95 * mass * 2).toFixed(0);
            document.getElementById('radius1').textContent = radius + ' km';
            document.getElementById('metric1').textContent = radius + ' km';
            const density = (1.8e16 / (mass * mass)).toExponential(1);
            document.getElementById('density1').textContent = density + ' kg/m³';
            
            const cx = canvas1.width / 2, cy = canvas1.height / 2;
            const r = 20 + Math.log(mass) * 30;
            ctx1.clearRect(0, 0, canvas1.width, canvas1.height);
            
            const grad = ctx1.createRadialGradient(cx, cy, 0, cx, cy, r * 4);
            grad.addColorStop(0, '#F59E0B');
            grad.addColorStop(0.6, '#8B5CF6');
            grad.addColorStop(1, 'transparent');
            ctx1.fillStyle = grad;
            ctx1.fillRect(0, 0, canvas1.width, canvas1.height);
            
            ctx1.fillStyle = '#000';
            ctx1.beginPath();
            ctx1.arc(cx, cy, r, 0, Math.PI * 2);
            ctx1.fill();
            
            ctx1.strokeStyle = '#3B82F6';
            ctx1.lineWidth = 3;
            ctx1.shadowBlur = 20;
            ctx1.shadowColor = '#3B82F6';
            ctx1.beginPath();
            ctx1.arc(cx, cy, r, 0, Math.PI * 2);
            ctx1.stroke();
            ctx1.shadowBlur = 0;
        }
        massSlider1.addEventListener('input', updateSchwarzsChild);
        updateSchwarzsChild();

        // Tab 2: Orbits
        let particles = [];
        let orbitRunning = false;
        function startOrbit() {
            orbitRunning = true;
            const count = parseInt(document.getElementById('particleSlider').value);
            particles = [];
            for (let i = 0; i < count; i++) {
                const angle = (i / count) * Math.PI * 2;
                const radius = parseFloat(document.getElementById('orbitSlider').value);
                particles.push({
                    x: canvas2.width / 2 + Math.cos(angle) * radius,
                    y: canvas2.height / 2 + Math.sin(angle) * radius,
                    vx: -Math.sin(angle) * 2,
                    vy: Math.cos(angle) * 2,
                    trail: []
                });
            }
            animateOrbit();
        }
        function resetOrbit() {
            orbitRunning = false;
            particles = [];
            ctx2.clearRect(0, 0, canvas2.width, canvas2.height);
        }
        function animateOrbit() {
            if (!orbitRunning) return;
            ctx2.fillStyle = 'rgba(0,0,0,0.1)';
            ctx2.fillRect(0, 0, canvas2.width, canvas2.height);
            
            const cx = canvas2.width / 2, cy = canvas2.height / 2;
            ctx2.fillStyle = '#000';
            ctx2.beginPath();
            ctx2.arc(cx, cy, 40, 0, Math.PI * 2);
            ctx2.fill();
            
            particles.forEach(p => {
                const dx = cx - p.x, dy = cy - p.y;
                const dist = Math.sqrt(dx * dx + dy * dy);
                const force = 5000 / (dist * dist);
                p.vx += (dx / dist) * force;
                p.vy += (dy / dist) * force;
                p.x += p.vx;
                p.y += p.vy;
                
                ctx2.fillStyle = '#06B6D4';
                ctx2.beginPath();
                ctx2.arc(p.x, p.y, 3, 0, Math.PI * 2);
                ctx2.fill();
            });
            requestAnimationFrame(animateOrbit);
        }
        document.getElementById('orbitSlider').addEventListener('input', e => {
            document.getElementById('orbit-radius').textContent = e.target.value + ' km';
        });
        document.getElementById('particleSlider').addEventListener('input', e => {
            document.getElementById('particle-count').textContent = e.target.value;
        });

        // Tab 3: Tidal Forces
        function updateTidal() {
            const dist = document.getElementById('distanceSlider').value;
            document.getElementById('distance-val').textContent = dist + ' km';
            const force = dist < 100 ? 'Extreme' : dist < 200 ? 'High' : 'Moderate';
            const stretch = (300 / dist).toFixed(1);
            document.getElementById('tidal-force').textContent = force;
            document.getElementById('stretch').textContent = stretch + 'x';
            
            const cx = canvas3.width / 2, cy = canvas3.height / 2;
            ctx3.clearRect(0, 0, canvas3.width, canvas3.height);
            
            ctx3.fillStyle = '#000';
            ctx3.beginPath();
            ctx3.arc(cx, cy, 50, 0, Math.PI * 2);
            ctx3.fill();
            
            const objDist = parseFloat(dist) + 50;
            const stretchFactor = parseFloat(stretch);
            ctx3.fillStyle = '#F59E0B';
            ctx3.fillRect(cx + objDist, cy - 10 / stretchFactor, 30, 20 * stretchFactor);
        }
        document.getElementById('distanceSlider').addEventListener('input', updateTidal);
        updateTidal();

        // Tab 4: Photon
        let photons = [];
        function shootPhoton() {
            const impact = parseFloat(document.getElementById('impactSlider').value);
            photons.push({
                x: 0,
                y: canvas4.height / 2 + impact - 150,
                vx: 5,
                vy: 0,
                trail: []
            });
        }
        function clearPhotons() {
            photons = [];
            ctx4.clearRect(0, 0, canvas4.width, canvas4.height);
        }
        function animatePhotons() {
            ctx4.fillStyle = 'rgba(0,0,0,0.05)';
            ctx4.fillRect(0, 0, canvas4.width, canvas4.height);
            
            const cx = canvas4.width / 2, cy = canvas4.height / 2;
            ctx4.fillStyle = '#000';
            ctx4.beginPath();
            ctx4.arc(cx, cy, 50, 0, Math.PI * 2);
            ctx4.fill();
            
            photons.forEach((p, i) => {
                const dx = cx - p.x, dy = cy - p.y;
                const dist = Math.sqrt(dx * dx + dy * dy);
                if (dist < 50) {
                    photons.splice(i, 1);
                    return;
                }
                const bend = 8000 / (dist * dist);
                const angle = Math.atan2(dy, dx);
                p.vx += Math.cos(angle) * bend;
                p.vy += Math.sin(angle) * bend;
                p.x += p.vx;
                p.y += p.vy;
                
                ctx4.strokeStyle = '#06B6D4';
                ctx4.lineWidth = 2;
                ctx4.shadowBlur = 10;
                ctx4.shadowColor = '#06B6D4';
                ctx4.beginPath();
                ctx4.moveTo(p.x - p.vx, p.y - p.vy);
                ctx4.lineTo(p.x, p.y);
                ctx4.stroke();
                ctx4.shadowBlur = 0;
            });
            requestAnimationFrame(animatePhotons);
        }
        document.getElementById('impactSlider').addEventListener('input', e => {
            document.getElementById('impact-val').textContent = e.target.value + ' km';
        });
        animatePhotons();

        function initCurrentTab(tab) {
            if (tab === 'schwarzschild') updateSchwarzsChild();
            if (tab === 'tidal') updateTidal();
        }
    </script>
</body>
</html>